//Win64API.cpp
/* --------------------------------------------------------------------------------
 #
 #	Win64API.cpp
 #	source generated by 4D Plugin Wizard
 #	Project : Win32API
 #	author : dwaddell
 #	9/30/2019
 #
 # --------------------------------------------------------------------------------*/


#include "Win64API.h"
#include "Registry.h"
#include "WindowManagement.h"

const char* const win32Commands[] = {
	"sys_GetRegEnum"
	,"sys_GetRegText" // ACW 10/20/20 WIN-78 
	,"sys_GetRegLongint" // ACW 10/16/20 WIN-80
	,"gui_GetWindowEx" // ACW 10/23/20 WIN-107
};

void PluginMain(PA_long32 selector, PA_PluginParameters params)
{
	switch (selector)
	{
		case kInitPlugin:
			InitPlugin();
			break;

		case kDeinitPlugin:
			DeinitPlugin();
			break;

		case 1: // sys_GetRegEnum
			sys_GetRegEnum(params);
			break;

		case 2: // sys_GetRegText
		case 3: // sys_GetRegLongint
			// ACW 10/16/20 WIN-80
			sys_GetRegKey(params);
			break;

		case 4: // gui_getWindowEx
			// ACW 10/26/20 WIN-107 
			gui_GetWindowEx(params);

			break;

		case 5: // gui_setWindowTitleEx
			// ACW 10/28/20 WIN-108
			PA_RunInMainProcess((PA_RunInMainProcessProcPtr)gui_setWindowTitleEx, params);
			//gui_setWindowTitleEx(params);


			break;
	}	
}

void InitPlugin()
{

	// WJF 9/1/15 #43731
	// ACW 10/28/20 WIN-107 Changed handleArray_init to initWindowManagement
	initWindowManagement();

}

void DeinitPlugin()
{
	// write deinitialisation code here...
}




